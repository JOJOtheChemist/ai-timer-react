
🚀 ============================================================================
   User Profiles API 测试开始
================================================================================
🔧 准备测试数据...
✅ 测试数据准备完成
   - 测试用户ID: 2001
   - 用户名: testuser2001

================================================================================
测试1: GET /api/v1/users/me/profile - 获取用户完整个人信息
================================================================================
请求: GET http://localhost:8000/api/v1/users/me/profile
参数: {'user_id': 2001}
响应状态: 500
响应内容: {'detail': '获取用户个人信息失败: StatisticService() takes no arguments'}
❌ 测试失败

================================================================================
测试2: PUT /api/v1/users/me/profile - 更新用户个人信息
================================================================================
请求: PUT http://localhost:8000/api/v1/users/me/profile
参数: {'user_id': 2001}
请求体: {'goal': '更新后的目标-考博', 'bio': '更新后的简介'}
响应状态: 500
响应内容: {'detail': '更新用户个人信息失败: StatisticService() takes no arguments'}
❌ 测试失败

================================================================================
测试3: GET /api/v1/users/{user_id}/simple-info - 获取用户简易信息
================================================================================
请求: GET http://localhost:8000/api/v1/users/2001/simple-info
响应状态: 500
响应内容: {'detail': '获取用户简易信息失败: StatisticService() takes no arguments'}
❌ 测试失败

================================================================================
测试4: 数据库直接查询 - 验证数据完整性
================================================================================
✅ User表数据:
   ID: 2001, 用户名: testuser2001
   目标: 考研上岸, 专业: 计算机科学

✅ UserProfile表数据:
   真实姓名: 测试用户
   简介: 这是一个测试用户的简介
   总学习时长: 100.5小时

✅ 测试通过 - 数据库数据完整

🧹 清理测试数据...
✅ 测试数据清理完成

================================================================================
📊 测试总结
================================================================================
❌ 失败 - 获取用户完整个人信息
❌ 失败 - 更新用户个人信息
❌ 失败 - 获取用户简易信息
✅ 通过 - 数据库直接查询验证
================================================================================
总计: 1/4 测试通过 (25.0%)
================================================================================
