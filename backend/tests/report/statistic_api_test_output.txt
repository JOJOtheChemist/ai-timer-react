
============================================================
ğŸš€ å¼€å§‹ Statistic API æµ‹è¯•
============================================================

âŒ æ’å…¥æµ‹è¯•æ•°æ®å¤±è´¥: window functions are not allowed in WHERE
LINE 5: ...heckin_time) = CURRENT_DATE - INTERVAL '1 day' * (ROW_NUMBER...
                                                             ^
QUERY:  SELECT COUNT(*) >= (badge_record.condition_config->>'days')::INTEGER
                                                  FROM checkin_record cr
                WHERE cr.user_id = target_user_id
                AND cr.checkin_time >= CURRENT_DATE - INTERVAL '1 day' * (badge_record.condition_config->>'days')::INTEGER
                AND DATE(cr.checkin_time) = CURRENT_DATE - INTERVAL '1 day' * (ROW_NUMBER() OVER (ORDER BY cr.checkin_time DESC) - 1)
CONTEXT:  PL/pgSQL function check_badge_conditions(bigint,bigint) line 22 at SQL statement
SQL statement "SELECT check_badge_conditions(NEW.user_id)"
PL/pgSQL function auto_check_badges() line 15 at PERFORM

âŒ æµ‹è¯•æ•°æ®æ’å…¥å¤±è´¥ï¼Œç»§ç»­æµ‹è¯•...

ğŸ’¾ æ•°æ®åº“éªŒè¯: æ¯æ—¥ç»Ÿè®¡ 0 æ¡, æ¯å‘¨ç»Ÿè®¡ 0 æ¡


============================================================
ğŸ“Š Statistic API æµ‹è¯•ç»“æœ
============================================================
âœ… Health Check: 200
âœ… GET /weekly-overview: 200 - 0.0h
âœ… GET /weekly-chart: 200 - 0 days
âœ… GET /weekly-task-hours: 200
âœ… GET /weekly-category-hours: 200
âœ… GET /efficiency-analysis: 200
âœ… GET /mood-trend: 200
âœ… GET /comparison: 200
âœ… GET /dashboard: 200 - overview=True, charts=True
============================================================

âœ… æˆåŠŸ: 9/9 (100.0%)

ğŸ“ æµ‹è¯•æŠ¥å‘Šå·²ä¿å­˜: tests/report/STATISTIC_API_TEST_REPORT.md
